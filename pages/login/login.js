"use strict";const e=require("../../common/vendor.js"),o=require("../../services/login.js"),s=require("../../stores/modules/member.js");require("../../utils/http.js"),require("../../stores/index.js"),require("../../stores/modules/address.js");const t=e.defineComponent({__name:"login",setup(t){const n=s.useMemberStore();let i="";e.onLoad((async()=>{const o=await e.wx$1.login();i=o.code}));const r=async e=>{const s=e.detail.encryptedData,t=e.detail.iv;console.log(s),console.log(t),await o.postLoginInfoService({code:i,encryptedData:s,iv:t})},a=async()=>{const e=await o.postLoginSimpleService("18193574875");c(e.result)},c=o=>{n.setProfile(o),n.token(o.token),setTimeout((async()=>{e.index.navigateBack(),e.index.showToast({title:"登陆成功",icon:"none"})}),500)};return(o,s)=>({a:e.o(r),b:e.o(a)})}});wx.createPage(t);
